<?php    // My modifications to mailer script from:    // http://blog.teamtreehouse.com/create-ajax-contact-form    // Added input sanitizing to prevent injection    // Only process POST reqeusts.    if ($_SERVER["REQUEST_METHOD"] == "POST") {        // Get the form fields and remove whitespace.        $name = strip_tags(trim($_POST["name"]));	    $name = str_replace(array("\r","\n"),array(" "," "),$name);        $email = filter_var(trim($_POST["email"]), FILTER_SANITIZE_EMAIL);        $message = trim($_POST["message"]);        $lettersubject = trim($_POST["lettersubject"]);}                	            // Check that data was sent to the mailer.        //if ( empty($name) OR empty($message) OR !filter_var($email, FILTER_VALIDATE_EMAIL)) {            // Set a 400 (bad request) response code and exit.           // http_response_code(400);          //  echo "There was a problem with your submission. Please complete the form and try again.";          //  exit;        //}                 if ( empty($message) ) {            // Set a 400 (bad request) response code and exit.            http_response_code(400);            echo "Please type in your message.";            exit;        }                         if ( empty($name) OR ($name == "Your name")) {            // Set a 400 (bad request) response code and exit.            http_response_code(400);            echo "Please enter your name.";            exit;        }                         if ( !filter_var($email, FILTER_VALIDATE_EMAIL)) {            // Set a 400 (bad request) response code and exit.            http_response_code(400);            echo "Please provide a valid email address.";            exit;        }                                        // Set the recipient email address.        // FIXME: Update this to your desired email address.        $recipient = "shinakaikitty@aol.com";        // Set the email subject.        $subject = "Message from $name via your website";        // Build the email content.        $email_content = "Name: $name\n";        $email_content .= "Email: $email\n\n";        $email_content .= "Subject: $lettersubject\n\n";        $email_content .= "Message:\n$message\n";        // Build the email headers.        $email_headers = "From: $name <$email>";                      // if the url field is empty if(isset($_POST['url']) && $_POST['url'] == ''){     // then send the form to your email                                       // Send the email.        if (mail($recipient, $subject, $email_content, $email_headers)) {            // Set a 200 (okay) response code.            http_response_code(200);            echo "Thank you. Your message has been sent.";        }                 else {            // Set a 500 (internal server error) response code.            http_response_code(500);            echo "Your message could not be sent. Please try again." ;        }     //else {        // Not a POST request, set a 403 (forbidden) response code.        //http_response_code(403);        //echo "Your message could not be sent. Please try again.";    //}         } //spamchecker fin  else {echo "Thank youphp";}?>